!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.bunyan=e()}}(function(){return function e(r,t,i){function s(o,a){if(!t[o]){if(!r[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(n)return n(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var f=t[o]={exports:{}};r[o][0].call(f.exports,function(e){var t=r[o][1][e];return s(t?t:e)},f,f.exports,e,r,t,i)}return t[o].exports}for(var n="function"==typeof require&&require,o=0;o<i.length;o++)s(i[o]);return s}({1:[function(e,r){(function(e){"use strict";function t(e){if("undefined"==typeof e||null===e)return e;if(Array.isArray(e))return e.slice();if("object"==typeof e){var r={};return Object.keys(e).forEach(function(t){r[t]=e[t]}),r}return e}function i(){var e={},r=Error.stackTraceLimit,t=Error.prepareStackTrace;return Error.stackTraceLimit=3,Error.prepareStackTrace=function(r,t){var i=t[2];e.file=i.getFileName(),e.line=i.getLineNumber();var s=i.getFunctionName();s&&(e.func=s)},Error.stackTraceLimit=r,Error.prepareStackTrace=t,e}function s(e,r){r||(r="    ");var t=e.split(/\r?\n/g);return r+t.join("\n"+r)}function n(r,t){if(t){if(y[t])return;y[t]=!0}e.stderr.write(r+"\n")}function o(e){return y[e]}function a(){}function l(){}function c(e){var r="string"==typeof e?z[e.toLowerCase()]:e;return r}function f(r,i,s){if(!(this instanceof f))return new f(r,i);var n;if(void 0!==i&&(n=r,r=i,!(n instanceof f)))throw new TypeError("invalid Logger creation: do not pass a second arg");if(!r)throw new TypeError("options (object) is required");if(n){if(r.name)throw new TypeError("invalid options.name: child cannot set logger name")}else if(!r.name)throw new TypeError("options.name (string) is required");if(r.stream&&r.streams)throw new TypeError('cannot mix "streams" and "stream" options');if(r.streams&&!Array.isArray(r.streams))throw new TypeError("invalid options.streams: must be an array");if(r.serializers&&("object"!=typeof r.serializers||Array.isArray(r.serializers)))throw new TypeError("invalid options.serializers: must be an object");var o,l,c;if(n&&s){this._isSimpleChild=!0,this._level=n._level,this.streams=n.streams,this.serializers=n.serializers,this.src=n.src,o=this.fields={};var u=Object.keys(n.fields);for(c=0;c<u.length;c++)l=u[c],o[l]=n.fields[l];var p=Object.keys(r);for(c=0;c<p.length;c++)l=p[c],o[l]=r[l]}else{var v=this;if(n){for(this._level=n._level,this.streams=[],c=0;c<n.streams.length;c++){var h=t(n.streams[c]);h.closeOnExit=!1,this.streams.push(h)}this.serializers=t(n.serializers),this.src=n.src,this.fields=t(n.fields),r.level&&this.level(r.level)}else this._level=Number.POSITIVE_INFINITY,this.streams=[],this.serializers=null,this.src=!1,this.fields={};r.stream?v.addStream({type:"stream",stream:r.stream,closeOnExit:!1,level:r.level}):r.streams?r.streams.forEach(function(e){v.addStream(e,r.level)}):n&&r.level?this.level(r.level):n||v.addStream({type:"raw",stream:new a,closeOnExit:!1,level:r.level}),r.serializers&&v.addSerializers(r.serializers),r.src&&(this.src=!0),o=t(r),delete o.stream,delete o.level,delete o.streams,delete o.serializers,delete o.src,this.serializers&&this._applySerializers(o),o.pid||(o.pid=e.pid),Object.keys(o).forEach(function(e){v.fields[e]=o[e]})}}function u(e){return function(){function r(r){var n;r[0]instanceof Error?(a={err:s.serializers&&s.serializers.err?s.serializers.err(r[0]):f.stdSerializers.err(r[0])},n={err:!0},l=1===r.length?[a.err.message]:Array.prototype.slice.call(r,1)):"object"!=typeof r[0]&&null!==r[0]||Array.isArray(r[0])?(a=null,l=Array.prototype.slice.call(r)):(a=r[0],l=Array.prototype.slice.call(r,1));var o=t(s.fields);o.level=e;var c=a?t(a):null;return c&&(s.serializers&&s._applySerializers(c,n),Object.keys(c).forEach(function(e){o[e]=c[e]})),o.levelName=k[e],o.msg=d.apply(s,l),o.time||(o.time=new Date),s.src&&!o.src&&(o.src=i()),o.v=m,o}var s=this,a=null,l=arguments,c=null;if(this._emit)return 0===arguments.length?this._level<=e:void(this._level>e||(c=r(l),this._emit(c)));var u="unbound";if(!o[u]){var p=i();n(d("bunyan usage error: %s:%s: attempt to log with an unbound log method: `this` is: %s",p.file,p.line,this.toString()),u)}}}function p(e){var r=e.stack||e.toString();if(e.cause&&"function"==typeof e.cause){var t=e.cause();t&&(r+="\nCaused by: "+p(t))}return r}function v(){var e=[];return function(r,t){return t&&"object"==typeof t?-1!==e.indexOf(t)?"[Circular]":(e.push(t),t):t}}var h="0.2.0",m=0,d=function(e){if(null===e)return"null";if("string"!=typeof e)return e.toString();for(var r=/%[sdj%]/g,t=1,i=arguments,s=i.length,n=String(e).replace(r,function(e){if("%%"===e)return"%";if(t>=s)return e;switch(e){case"%s":return String(i[t++]);case"%d":return Number(i[t++]);case"%j":try{return JSON.stringify(i[t++])}catch(r){return"[Circular]"}break;default:return e}}),o=i[t];s>t;o=i[++t])n+=" "+o;return n},y={};a.prototype.write=function(e){e.level<E?console.log(e):e.level<b?console.info(e):e.level<S?console.warn(e):console.error(e)},l.prototype.write=function(e){function r(e,r){return Array(r+1-(e+"").length).join("0")+e}var t,i="color: DimGray",s="color: SteelBlue";t=e.level<w?"color: DeepPink":e.level<E?"color: GoldenRod":e.level<b?"color: DarkTurquoise":e.level<S?"color: Purple":e.level<x?"color: Crimson":"color: Black";var n=e.childName?e.name+"/"+e.childName:e.name,o=k[e.level].toUpperCase();o=Array(6-o.length).join(" ")+o,console.log("[%s:%s:%s:%s] %c%s%c: %s: %c%s",r(e.time.getHours(),2),r(e.time.getMinutes(),2),r(e.time.getSeconds(),2),r(e.time.getMilliseconds(),4),t,o,i,n,s,e.msg)};var g=10,w=20,E=30,b=40,S=50,x=60,z={trace:g,debug:w,info:E,warn:b,error:S,fatal:x},k={};Object.keys(z).forEach(function(e){k[z[e]]=e}),f.prototype.addStream=function(e,r){var i=this;switch((null===r||void 0===r)&&(r=E),e=t(e),!e.type&&e.stream&&(e.type="raw"),e.raw="raw"===e.type,e.level=c(e.level?e.level:r),e.level<i._level&&(i._level=e.level),e.type){case"stream":e.closeOnExit||(e.closeOnExit=!1);break;case"raw":e.closeOnExit||(e.closeOnExit=!1);break;default:throw new TypeError('unknown stream type "'+e.type+'"')}i.streams.push(e),delete i.haveNonRawStreams},f.prototype.addSerializers=function(e){var r=this;r.serializers||(r.serializers={}),Object.keys(e).forEach(function(t){var i=e[t];if("function"!=typeof i)throw new TypeError(d('invalid serializer for "%s" field: must be a function',t));r.serializers[t]=i})},f.prototype.child=function(e,r){return new this.constructor(this,e||{},r)},f.prototype.level=function(e){if(void 0===e)return this._level;for(var r=c(e),t=this.streams.length,i=0;t>i;i++)this.streams[i].level=r;this._level=r},f.prototype.levels=function(e,r){if(void 0===e)return this.streams.map(function(e){return e.level});var t;if("number"==typeof e){if(t=this.streams[e],void 0===t)throw new Error("invalid stream index: "+e)}else{for(var i=this.streams.length,s=0;i>s;s++){var n=this.streams[s];if(n.name===e){t=n;break}}if(!t)throw new Error(d('no stream with name "%s"',e))}if(void 0===r)return t.level;var o=c(r);t.level=o,o<this._level&&(this._level=o)},f.prototype._applySerializers=function(e,r){var t=this;Object.keys(this.serializers).forEach(function(i){if(!(void 0===e[i]||r&&r[i]))try{e[i]=t.serializers[i](e[i])}catch(s){n(d('bunyan: ERROR: Exception thrown from the "%s" Bunyan serializer. This should never happen. This is a bugin that serializer function.\n%s',i,s.stack||s)),e[i]=d('(Error in Bunyan log "%s" serializer broke field. See stderr for details.)',i)}})},f.prototype._emit=function(e,r){var t;if(void 0===this.haveNonRawStreams)for(this.haveNonRawStreams=!1,t=0;t<this.streams.length;t++)if(!this.streams[t].raw){this.haveNonRawStreams=!0;break}var i;if(r||this.haveNonRawStreams)try{i=JSON.stringify(e,v())+"\n"}catch(o){var a=o.stack.split(/\n/g,2).join("\n");n('bunyan: ERROR: Exception in `JSON.stringify(rec)`. You can install the "safe-json-stringify" module to have Bunyan fallback to safer stringification. Record:\n'+s(d("%s\n%s",e,o.stack)),a),i=d("(Exception in JSON.stringify(rec): %j. See stderr for details.)\n",o.message)}if(r)return i;var l=e.level;for(t=0;t<this.streams.length;t++){var c=this.streams[t];c.level<=l&&c.stream.write(c.raw?e:i)}return i},f.prototype.trace=u(g),f.prototype.debug=u(w),f.prototype.info=u(E),f.prototype.warn=u(b),f.prototype.error=u(S),f.prototype.fatal=u(x),f.stdSerializers={},f.stdSerializers.err=function(e){if(!e||!e.stack)return e;var r={message:e.message,name:e.name,stack:p(e),code:e.code,signal:e.signal};return r},r.exports=f,r.exports.TRACE=g,r.exports.DEBUG=w,r.exports.INFO=E,r.exports.WARN=b,r.exports.ERROR=S,r.exports.FATAL=x,r.exports.resolveLevel=c,r.exports.levelFromName=z,r.exports.nameFromLevel=k,r.exports.VERSION=h,r.exports.LOG_VERSION=m,r.exports.createLogger=function(e){return new f(e)},r.exports.safeCycles=v,r.exports.ConsoleFormattedStream=l,r.exports.ConsoleRawStream=a}).call(this,e("_process"))},{_process:2}],2:[function(e,r){function t(){if(!o){o=!0;for(var e,r=n.length;r;){e=n,n=[];for(var t=-1;++t<r;)e[t]();r=n.length}o=!1}}function i(){}var s=r.exports={},n=[],o=!1;s.nextTick=function(e){n.push(e),o||setTimeout(t,0)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=i,s.addListener=i,s.once=i,s.off=i,s.removeListener=i,s.removeAllListeners=i,s.emit=i,s.binding=function(){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}]},{},[1])(1)});